Building & Installing GtkFortran
================================

The build install system uses 'cmake'.

This is has been tested on Debian (Wheezy, Sid) and Pardus (2011)
Linux installations.

To do an "out of source" build from the top-level directory on a
Unix/Linux system: 
    mkdir build
    cd build
    cmake ..
    make
    sudo make install

cmake variables are set by using -D<variable>=<value>
for example to change the default install directory from /usr/local to /usr:
cmake -DCMAKE_INSTALL_DIR=/usr ..

Useful variables that are specific to gtk-fortran are:
       EXCLUDE_PLPLOT -- set this to disable building the plplot
       integration even if plplot is found
       INSTALL_EXAMPLES -- set this to install the source code of the
       examples into
       ${CMAKE_INSTALL_DATAROOTDIR/gtk-fortran/examples<gtkversion>,
       this would for example be useful if you were making a binary
       package of gtk-fortran.

To interactively control the build, use 'ccmake' in place of 'cmake'

**************************************************************************
* Following the install path and name changes on 25 Nov 11, it is
* strongly recommended to uninstall any current installation, and then 
* clean out the build directory and re-run cmake
*     cd build
*     sudo make uninstall
*     rm -r *   ## MAKE SURE YOU ARE IN THE BUILD DIRECTORY BEFORE
*     	    	## DOING THIS
*     cmake ..
**************************************************************************

Dependencies:
-------------

GtkFortran needs Gtk 2.24 or better (it will mostly work with 2.22) and
the associated libraries. For 2.xx use the "master" git tree, for 3.x
use "gtk3".

To build with gfortran, version 4.6 or better is needed (in 4.4 &
4.5 c_funloc doesn't work correctly, at least for Fortran routines with
the bind(c) attribute).

The build system needs cmake 2.6 or better and doxygen. 

GTK3:
-----

For the Gtk3 version, a FindGTK3.cmake module is included in the
distribution, it is placed in the cmake subdirectory which should be
added to the module search path by the top-level CMakeLists.txt rules.

N.B. FindGTK3.cmake has only been tested on Debian Sid, it is possible
that other systems may have different naming conventions (If you have
problems look for the lines with several asterisks in the comments, as
these are the places where I think there could be issues [i.e. I was
guessing until it worked]).

Building your application
=========================

On Linux and Unix systems the build system generates a pkg-config file
and installs it. So building a single source file application should be
as simple as:

    gfortran my_app.f90 `pkg-config --cflags --libs gtk-fortran`

If you have made a default install to /usr/local you *may* need to run:

    export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig

this will depend on your distribution, Ubuntu looks there by default,
Pardus doesn't.
